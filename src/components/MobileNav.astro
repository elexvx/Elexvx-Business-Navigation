---
// 移动端导航栏组件
---

<nav class="lg:hidden bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-40">
  <div class="px-4 py-3 flex items-center justify-between">
    <div class="flex items-center space-x-3">
      <button 
        id="mobile-menu-button"
        class="p-2 rounded-lg text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-colors duration-200"
        aria-label="打开菜单"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <h1 class="text-lg font-semibold text-gray-900">企业外链</h1>
    </div>
  </div>
</nav>

<!-- 移动端遮罩层 -->
<div 
  id="mobile-overlay" 
  class="fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden hidden"
></div>

<script>
  // 移动端菜单控制
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('mobile-overlay');
  const sidebarCloseButton = document.getElementById('sidebar-close-button');

  function toggleSidebar() {
    sidebar?.classList.toggle('-translate-x-full');
    overlay?.classList.toggle('hidden');
  }

  function closeSidebar() {
    sidebar?.classList.add('-translate-x-full');
    overlay?.classList.add('hidden');
  }

  // 事件监听
  mobileMenuButton?.addEventListener('click', toggleSidebar);
  overlay?.addEventListener('click', closeSidebar);
  sidebarCloseButton?.addEventListener('click', closeSidebar);

  // ESC 键关闭侧边栏
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      closeSidebar();
    }
  });

  // 窗口大小变化时自动关闭移动端侧边栏
  window.addEventListener('resize', () => {
    if (window.innerWidth >= 1024) {
      closeSidebar();
    }
  });
</script>